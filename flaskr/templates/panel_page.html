{% extends 'base.html' %}

{% block title %}Panel Page{% endblock %}

{% block content %}
  <form method="POST" action="{{ url_for('panel_info.generate_panel') }}">
    <h1>Panel Model</h1>

    <div class="input-container">
      <label for="panel-select">Select Panel:</label>
      <input list="panels" id="panel-input" name="panel_name" autocomplete="off" value="{{ panel_name or '' }}"/>

      <datalist id="panels">
        {% for name in panel_names %}
          <option value="{{ name }}"></option>
        {% endfor %}
      </datalist>
    </div>

    <p>Click to set shading</p>

    {% if num_rows is defined and num_rows > 0 %}
      <table class="clickable-table" id="grid" data-num-rows="{{ num_rows }}">
        <!-- auto generated by script -->
      </table>

    {% endif %}
    
    <div class="input-container">
      <button id="generate" type="submit">Create Panel</button>
    </div>

    {% if error %}
      <div class="error" style="color: red; margin: 10px 0;">
        Error: {{ error }}
      </div>
    {% endif %}

    <script src="{{ url_for('static', filename='javascript/grid.js')}}"></script>
  </form>
{% endblock %}
